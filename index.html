<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>图像处理工具 Pro - 在线图片压缩、格式转换、添加水印 | ImageFX</title>

    <meta name="description" content="一款强大的在线图像处理工具，支持批量图片压缩、格式转换（JPG, PNG, WEBP）、调整分辨率、添加自定义水印和图像美化（亮度、对比度、饱和度）。免费、高效，无需安装。">
    <meta name="keywords" content="图像处理, 图片压缩, 格式转换, 添加水印, 在线工具, 分辨率调整, 图片美化, image processor, compress image, resize image, add watermark, online tool">
    <meta name="author" content="ImageFX">
    <meta name="robots" content="index, follow">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#4A90E2">

    <link rel="canonical" href="https://www.imagefx.asia">

    <meta property="og:title" content="图像处理工具 Pro - 在线全能图片编辑器">
    <meta property="og:description" content="一站式在线图像处理解决方案，轻松完成图片压缩、格式转换、尺寸调整、添加水印和美化滤镜。">
    <meta property="og:type" content="ImageFX">
    <meta property="og:url" content="https://www.imagefx.asia">
    <meta property="og:image" content="https://www.imagefx.asia/preview-image.webp">
    <meta property="og:site_name" content="图像处理工具 Pro">
    <meta property="og:locale" content="zh_CN">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="图像处理工具 Pro - 在线全能图片编辑器">
    <meta name="twitter:description" content="一站式在线图像处理解决方案，轻松完成图片压缩、格式转换、尺寸调整、添加水印和美化滤镜。">
    <meta name="twitter:image" content="https://www.imagefx.asia/preview-image.webp">

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <link rel="stylesheet" href="style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <header class="header">
        <h1 class="logo" data-lang-key="logo">图像处理工具 Pro</h1>
        <button class="lang-switch" data-lang-key="langBtn">English</button>
    </header>

    <div class="container">
        <div class="title">
            <h2 data-lang-key="title">专业图像处理套件</h2>
            <p data-lang-key="subtitle">一站式图像处理解决方案，支持批量操作和多种格式转换</p>
        </div>

        <div class="cards-grid">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">📁</div>
                    <h3 class="card-title" data-lang-key="upload">文件上传</h3>
                </div>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">⬆️</div>
                    <span data-lang-key="uploadText">点击或拖拽上传图片</span>
                    <p data-lang-key="uploadDesc">支持 JPG, PNG, WEBP 格式</p>
                </div>
                <input type="file" id="fileInput" multiple accept="image/jpeg,image/png,image/webp" style="display: none;">
                <div id="fileList" style="margin-top: 1rem; max-height: 200px; overflow-y: auto;"></div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">📐</div>
                    <h3 class="card-title" data-lang-key="resolution">分辨率调整</h3>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="resolutionPreset">预设分辨率</label>
                    <select class="form-input form-select" id="resolutionPreset">
                        <option value="custom" data-lang-key="custom">自定义</option>
                        <option value="1920x1080">1920×1080 (1080p)</option>
                        <option value="1280x720">1280×720 (720p)</option>
                        <option value="800x600">800×600</option>
                        <option value="640x480">640×480</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="width">宽度</label>
                    <input type="number" class="form-input" id="customWidth" placeholder="1920">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="height">高度</label>
                    <input type="number" class="form-input" id="customHeight" placeholder="1080">
                </div>
                <button class="btn btn-full" onclick="applyResolution()" data-lang-key="applyRes">应用分辨率</button>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">🔄</div>
                    <h3 class="card-title" data-lang-key="format">格式与质量</h3>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="targetFormat">目标格式</label>
                    <select class="form-input form-select" id="targetFormat">
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WEBP</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="quality">质量 (JPEG/WebP): <span id="qualityValue">90</span>%</label>
                    <input type="range" class="slider" id="qualitySlider" min="10" max="100" value="90">
                </div>
                 <button class="btn btn-full" onclick="convertFormat()" data-lang-key="convertBtn">转换格式</button>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon">🗜️</div>
                    <h3 class="card-title" data-lang-key="compress">图片压缩</h3>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="targetSize">目标大小 (KB)</label>
                    <input type="number" class="form-input" id="targetSizeInput" placeholder="例如: 500">
                </div>
                <div class="form-group">
                    <p style="opacity: 0.7; font-size: 0.9em;" data-lang-key="targetSizeDesc">输入期望的文件大小。工具将尝试压缩到最接近的尺寸（仅适用于JPEG）。</p>
                </div>
                <button class="btn btn-full" onclick="compressToTargetSize()" data-lang-key="applyCompress">应用压缩</button>
            </div>

            <div class="card">
                 <div class="card-header">
                    <div class="card-icon">✨</div>
                    <h3 class="card-title" data-lang-key="beautify">图片美化</h3>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="brightness">亮度: <span id="brightnessValue">100</span>%</label>
                    <input type="range" class="slider beautify-slider" id="brightnessSlider" min="0" max="200" value="100" data-filter="brightness" data-unit="%">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="contrast">对比度: <span id="contrastValue">100</span>%</label>
                    <input type="range" class="slider beautify-slider" id="contrastSlider" min="0" max="200" value="100" data-filter="contrast" data-unit="%">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="saturate">饱和度: <span id="saturateValue">100</span>%</label>
                    <input type="range" class="slider beautify-slider" id="saturateSlider" min="0" max="200" value="100" data-filter="saturate" data-unit="%">
                </div>
                 <div class="form-group">
                    <label class="form-label" data-lang-key="grayscale">灰度: <span id="grayscaleValue">0</span>%</label>
                    <input type="range" class="slider beautify-slider" id="grayscaleSlider" min="0" max="100" value="0" data-filter="grayscale" data-unit="%">
                </div>
                 <button class="btn btn-secondary btn-full" onclick="resetFilters()" data-lang-key="resetFilters" style="margin-top: 1rem;">重置美化</button>
            </div>


            <div class="card">
                <div class="card-header">
                    <div class="card-icon">🏷️</div>
                    <h3 class="card-title" data-lang-key="watermark">水印设置</h3>
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="watermarkText">水印文字</label>
                    <input type="text" class="form-input" id="watermarkText" placeholder="© Your Name 2025">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="watermarkSize">水印大小: <span id="fontSizeValue">5</span>%</label>
                    <input type="range" class="slider" id="fontSizeSlider" min="1" max="20" value="5">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="opacity">透明度: <span id="opacityValue">70</span>%</label>
                    <input type="range" class="slider" id="opacitySlider" min="10" max="100" value="70">
                </div>
                 <div class="form-group color-picker-wrapper">
                       <label class="form-label" data-lang-key="watermarkColor">颜色</label>
                    <input type="color" class="color-picker" id="watermarkColor" value="#ffffff">
                </div>
                <div class="form-group">
                    <label class="form-label" data-lang-key="watermarkPos">水印位置</label>
                    <div class="position-grid">
                        <div class="position-btn" onclick="selectPosition(this, 'top-left')" data-lang-key="posTL">左上</div>
                        <div class="position-btn" onclick="selectPosition(this, 'top-center')" data-lang-key="posTC">上中</div>
                        <div class="position-btn" onclick="selectPosition(this, 'top-right')" data-lang-key="posTR">右上</div>
                        <div class="position-btn" onclick="selectPosition(this, 'center-left')" data-lang-key="posCL">左中</div>
                        <div class="position-btn active" onclick="selectPosition(this, 'center')" data-lang-key="posC">居中</div>
                        <div class="position-btn" onclick="selectPosition(this, 'center-right')" data-lang-key="posCR">右中</div>
                        <div class="position-btn" onclick="selectPosition(this, 'bottom-left')" data-lang-key="posBL">左下</div>
                        <div class="position-btn" onclick="selectPosition(this, 'bottom-center')" data-lang-key="posBC">下中</div>
                        <div class="position-btn" onclick="selectPosition(this, 'bottom-right')" data-lang-key="posBR">右下</div>
                    </div>
                </div>
                <button class="btn btn-full" onclick="applyWatermark()" data-lang-key="addWatermark">添加水印</button>
            </div>

            <div class="preview-area" id="previewArea">
                <div id="previewContent">
                    <h3 data-lang-key="preview">图片预览</h3>
                    <p data-lang-key="previewDesc">上传图片后将在此显示预览，点击图片可放大</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon">⚡</div>
                <h3 class="card-title" data-lang-key="batch">批量操作</h3>
            </div>
            <p style="margin-bottom: 1.5rem; opacity: 0.8;" data-lang-key="batchDesc">批量处理将应用所有已配置的设置（分辨率、美化、质量、水印）到全部图片上。</p>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <button class="btn" onclick="batchProcess()" data-lang-key="batchProcess">批量处理</button>
                <button class="btn" onclick="downloadAll()" data-lang-key="downloadAll">下载全部</button>
                <button class="btn" onclick="clearAll()" data-lang-key="clearAll">清空文件</button>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal">
      <img class="modal-content" id="modalImage">
    </div>

    <footer class="footer">
        <p>&copy; 2025 ImageFX.asia. All Rights Reserved.</p>
        <p>By Eric</p> <a href="/imagefx-zh.html">About ImageFX</a>
    </footer>

    <script src="script.js"></script>
</body>
</html>
